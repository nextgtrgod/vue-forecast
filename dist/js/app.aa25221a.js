(function(t){function e(e){for(var i,s,r=e[0],l=e[1],c=e[2],d=0,h=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-forecast/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},"125f":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"ru":{"language":"Предпочитаемый язык","units":"Единицы измерения температуры"},"en":{"language":"Preferred language","units":"Temperature units"}}'),delete t.options._Ctor}},"1a8b":function(t,e,n){"use strict";var i=n("125f"),o=n.n(i);e["default"]=o.a},"1bae":function(t,e,n){},"1be1":function(t,e,n){t.exports=n.p+"img/pin.3c2d0c05.svg"},2:function(t,e){},2654:function(t,e,n){t.exports=n.p+"img/cloud_rain_night.40f6fa08.svg"},"27e4":function(t,e,n){t.exports=n.p+"img/arrow.d6611044.svg"},"2bc8":function(t,e,n){t.exports=n.p+"img/cloud_rain_alt_night.d718e5f6.svg"},3289:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"now":"Temperature now","feels-like":"feels like","humidity":"Humidity","wind":{"title":"Wind direction and speed","units":{"metric":"m/s","imperial":"mph"}},"pressure":{"title":"Pressure","units":"mmHg"},"cloudiness":"Cloudiness"},"ru":{"now":"Температура сейчас","feels-like":"ощущается как","humidity":"Влажность","wind":{"title":"Направление и скорость ветра","units":{"metric":"м/с","imperial":"mph"}},"pressure":{"title":"Давление","units":"мм. рт. ст."},"cloudiness":"Облачность"}}'),delete t.options._Ctor}},"39cf":function(t,e,n){t.exports=function(){return new Worker(n.p+"22c063196bb48dda9a3c.worker.js")}},"3ad5":function(t,e){let n=()=>{let t=window.navigator.userAgent.toLowerCase(),e=t.indexOf("msie"),n=t.indexOf("trident"),i=t.indexOf("edge"),o=t.indexOf("firefox"),a=t.indexOf("chrome"),s=t.indexOf("safari");document.getElementsByTagName("html")[0];return e>0||n>0||i>0?"ie":o>0?"firefox":a>0?"chrome":s>0?"safari":void 0};t.exports=n},"3cc1":function(t,e,n){"use strict";var i=n("a4fa"),o=n.n(i);o.a},"3ce0":function(t,e,n){var i={"./cloud_day.svg":"967b","./cloud_drizzle_day.svg":"7276","./cloud_drizzle_night.svg":"526a","./cloud_fog_alt_day.svg":"9a4f","./cloud_fog_alt_night.svg":"655a","./cloud_fog_day.svg":"48d7","./cloud_fog_night.svg":"a4a1","./cloud_hail_day.svg":"3e67","./cloud_hail_night.svg":"d1ba","./cloud_lightning_day.svg":"7770","./cloud_lightning_night.svg":"b649","./cloud_night.svg":"b2e0","./cloud_rain_alt_day.svg":"ef70","./cloud_rain_alt_night.svg":"2bc8","./cloud_rain_day.svg":"4c9b","./cloud_rain_night.svg":"2654","./cloud_snow_alt_day.svg":"ffe9","./cloud_snow_alt_night.svg":"4b05","./cloud_snow_day.svg":"d4f7","./cloud_snow_night.svg":"5725","./sun_day.svg":"54af","./sun_night.svg":"5ca2","./tornado_day.svg":"66d8","./tornado_night.svg":"48a3"};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=a,t.exports=o,o.id="3ce0"},"3e67":function(t,e,n){t.exports=n.p+"img/cloud_hail_day.d39dce22.svg"},"41f7":function(t,e,n){"use strict";var i=n("72a8"),o=n.n(i);o.a},4898:function(t,e,n){"use strict";var i=n("1bae"),o=n.n(i);o.a},"48a3":function(t,e,n){t.exports=n.p+"img/tornado_night.b1e3cd0b.svg"},"48d7":function(t,e,n){t.exports=n.p+"img/cloud_fog_day.0912a816.svg"},"4b05":function(t,e,n){t.exports=n.p+"img/cloud_snow_alt_night.29a1adca.svg"},"4c9b":function(t,e,n){t.exports=n.p+"img/cloud_rain_day.0896edbd.svg"},"4cff":function(t,e,n){"use strict";var i=n("3289"),o=n.n(i);e["default"]=o.a},"526a":function(t,e,n){t.exports=n.p+"img/cloud_drizzle_night.9a2900f7.svg"},"54af":function(t,e,n){t.exports=n.p+"img/sun_day.0403bef5.svg"},"56d7":function(t,e,n){"use strict";n.r(e);var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"app"}},[n("background"),n("div",{staticClass:"center"},[n("ui-switch",{staticClass:"units",attrs:{value:"metric"===t.units,labels:["C°","F°"],title:t.$t("units")},nativeOn:{click:function(e){return t.switchUnits(e)}}}),n("search",{ref:"search"}),t.forecast?n("widget"):t._e()],1),n("ui-switch",{staticClass:"language",attrs:{value:"en"===t.language,labels:["EN","RU"],title:t.$t("language")},nativeOn:{click:function(e){return t.switchLanguage(e)}}})],1)},a=[],s=n("2f62"),r=n("ec8b"),l={forecast:(t,e,n)=>"https://api.openweathermap.org/data/2.5/onecall?lang="+e+"&exclude=minutely"+`&lat=${t.latitude}&lon=${t.longitude}&appid=`+r["open_weather_api"],autocomplete:t=>"https://maps.googleapis.com/maps/api/js?&libraries=places&types=(cities)&language="+t+"&key="+r["google_places_api"]},c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{attrs:{id:"background"}})},u=[];let d={from:t=>t[~~(Math.random()*t.length)],range:(t=0,e=1)=>Math.random()*(e-t)+t};var h=d;let g=(t,e,n,i)=>Math.hypot(f(n-t),f(i-e));Math.random;const f=Math.abs,p=Math.PI;let m=0,_=0,v=0,y=(t,e=[],{W:n,H:i,threshold:o})=>{for(t.fillStyle="#F0F0F0",t.fillRect(0,0,n,i),m=0;m<e.length;m++){for((e[m].x-e[m].r<=0&&e[m].s.x<=0||e[m].x+e[m].r>=n&&e[m].s.x>=0)&&(e[m].s.x*=-1),(e[m].y-e[m].r<=0&&e[m].s.y<=0||e[m].y+e[m].r>=i&&e[m].s.y>=0)&&(e[m].s.y*=-1),_=0;_<e.length;_++)_!==m&&(v=g(e[m].x,e[m].y,e[_].x,e[_].y),v<o&&(t.beginPath(),t.moveTo(e[m].x,e[m].y),t.lineTo(e[_].x,e[_].y),t.strokeStyle=`rgba(0, 0, 0, ${(o-v)/10})`,t.lineWidth=Math.min(o/v,Math.min(e[m].r,e[_].r)),t.stroke()));e[m].x+=e[m].s.x,e[m].y+=e[m].s.y,t.beginPath(),t.fillStyle="#000",t.arc(e[m].x,e[m].y,e[m].r,0,2*p),t.fill()}};var w=y,b=n("39cf"),x=n.n(b);let O=Math.PI;class ${constructor(t,e=window.devicePixelRatio,n=1.5){this.canvas=t,this.dpi=e,this.speed=n,this.init();let i=null;window.onresize=()=>{clearTimeout(i),i=setTimeout(()=>this.init(),150)}}init(){let t=window.innerWidth*this.dpi,e=window.innerHeight*this.dpi,n=~~(window.innerWidth/(window.innerWidth<720?25:80)),i=this.speed,o=t/3,a=this.createDots(n,i,t,e,this.dpi);if(this.worker)this.worker.postMessage({data:a,options:{W:t,H:e,threshold:o}});else if("transferControlToOffscreen"in this.canvas){this.worker=new x.a;let n=this.canvas.transferControlToOffscreen();this.worker.postMessage({canvas:n,data:a,options:{W:t,H:e,threshold:o}},[n])}else{this.canvas.width=t,this.canvas.height=e,cancelAnimationFrame(this.radId);let n=this.canvas.getContext("2d",{alpha:!1,desynchronized:!0});this.update(n,a,{W:t,H:e,threshold:o})}}createDots(t,e,n,i,o){let a=[];a.length=t;for(let s=0;s<a.length;s++){let t=h.range(.5,e)*o,r=O/12,l=h.from([h.range(r,O/2-r),h.range(O/2+r,O-r),h.range(O+r,1.5*O-r),h.range(1.5*O+r,2*O-r)]);a[s]={x:h.range(0,n),y:h.range(0,i),r:h.range(6,15)*o,s:{x:t*Math.cos(l),y:t*Math.sin(l)}}}return a}update(...t){this.radId=requestAnimationFrame(()=>this.update(...t)),w(...t)}}var k=$,C={name:"Background",mounted(){this.reducedMotion||(this.sketch=new k(this.$el,2,2))},computed:{...Object(s["b"])({reducedMotion:t=>t.reducedMotion})}},z=C,M=(n("4898"),n("2877")),S=Object(M["a"])(z,c,u,!1,null,"7dcf2f4c",null),j=S.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"search"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",attrs:{type:"text"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),i("button",{ref:"button",attrs:{disabled:t.loading,title:t.$t("location")},on:{click:t.locate}},[i("img",{attrs:{src:n("1be1"),role:"presentation"}})])])},E=[],T={name:"Search",data(){return{query:"",loading:!1}},async mounted(){await this.init(),this.coords||this.locate()},methods:{init(){return new Promise(t=>{let e=document.getElementById("google-maps-api");e&&(document.body.removeChild(e),delete google.maps);let n=document.createElement("script");n.id="google-maps-api",n.onload=()=>{this.autocomplete=new google.maps.places.Autocomplete(this.$refs["input"],{types:["(cities)"]}),this.geocoder=new google.maps.Geocoder,google.maps.event.addListener(this.autocomplete,"place_changed",this.search),t(),this.coords&&this.getCity()},n.src=l.autocomplete(this.language),document.body.appendChild(n)})},async locate(t,e){this.loading=!0;try{let{coords:t}=await new Promise((t,e)=>{navigator.geolocation.getCurrentPosition(t,e)});this.$store.commit("setCoords",{latitude:t.latitude,longitude:t.longitude}),await this.getCity()}catch(n){this.$refs["button"].classList.remove("error"),setTimeout(()=>this.$refs["button"].classList.add("error"),100)}this.loading=!1},getCity(){return new Promise((t,e)=>{let n={location:new google.maps.LatLng(this.coords.latitude,this.coords.longitude)};this.geocoder.geocode(n,(n,i)=>{if("OK"===!i||!n)return e();let o=n.find(t=>t.types.includes("locality"));if(!o)return e();document.title=o.formatted_address,this.query=o.formatted_address,t()})})},search(){let t=this.autocomplete.getPlace();if(!t.geometry)return;let e=t.geometry.location.lat(),n=t.geometry.location.lng();this.$store.commit("setCoords",{latitude:e,longitude:n,name:t.formatted_address})}},computed:{...Object(s["b"])({coords:t=>t.coords,language:t=>t.language})}},F=T,W=(n("878c"),n("7fdf")),L=Object(M["a"])(F,P,E,!1,null,"052b0536",null);"function"===typeof W["default"]&&Object(W["default"])(L);var I=L.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"widget"}},[n("weather"),n("div",{ref:"scroll-area",staticClass:"scroll-area"},[n("ul",[t._l(t.days,(function(t,e){return n("forecast",{key:e,attrs:{date:t.date}})})),n("forecast",{attrs:{date:t.lastDate}})],2),n("canvas",{ref:"canvas"})])],1)},N=[],A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{visible:t.today},attrs:{id:"weather"}},[n("div",{staticClass:"status"},[n("icon",{staticClass:"icon",attrs:{id:t.icon.id,daytime:t.icon.daytime}}),n("h2",[t._v(t._s(t.icon.description))])],1),n("div",{staticClass:"temp"},[n("h1",{attrs:{title:t.$t("now")}},[t._v(t._s(t.temp.current)+"°")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.temp.current!==t.temp.feels,expression:"temp.current !== temp.feels"}]},[t._v(" "+t._s(t.$t("feels-like"))+" "),n("strong",[t._v(t._s(t.temp.feels)+"°")])]),n("p",[t._v(" "+t._s(t.temp.min!==t.temp.max?t.temp.min+".."+t.temp.max+"°":null)+" ")])]),n("ul",t._l(t.info,(function(e,i){return n("li",{key:i,attrs:{title:e.title}},[n("img",{style:e.style,attrs:{src:e.icon,alt:""}}),n("span",{attrs:{"data-units":e.units}},[t._v(t._s(e.value))])])})),0)])},q=[],U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon"},[t.animation?n("img",{attrs:{src:t.icon,alt:""}}):n("i",{class:t.icon,attrs:{"aria-hidden":""}})])},V=[];const B={200:"cloud_lightning",201:"cloud_lightning",202:"cloud_lightning",210:"cloud_lightning",211:"cloud_lightning",212:"cloud_lightning",221:"cloud_lightning",230:"cloud_lightning",231:"cloud_lightning",232:"cloud_lightning",300:"cloud_drizzle",301:"cloud_drizzle",302:"cloud_drizzle",310:"cloud_drizzle",311:"cloud_drizzle",312:"cloud_drizzle",313:"cloud_drizzle",314:"cloud_drizzle",321:"cloud_drizzle",500:"cloud_rain",501:"cloud_rain",502:"cloud_rain",503:"cloud_rain",504:"cloud_rain",511:"cloud_hail",520:"cloud_rain_alt",521:"cloud_rain_alt",522:"cloud_rain_alt",531:"cloud_rain_alt",600:"cloud_snow",601:"cloud_snow_alt",602:"cloud_snow_alt",611:"cloud_hail",612:"cloud_hail",615:"cloud_hail",616:"cloud_hail",620:"cloud_snow",621:"cloud_snow",622:"cloud_snow_alt",701:"cloud_fog",711:"cloud_fog_alt",721:"cloud_fog",731:"tornado",741:"cloud_fog",751:"cloud_fog_alt",761:"cloud_fog_alt",762:"cloud_fog_alt",771:"cloud_fog_alt",781:"tornado",800:"sun",801:"cloud",802:"cloud",803:"cloud",804:"cloud"};var H=B,R={name:"Icon",props:{id:{type:Number},daytime:{type:String}},computed:{...Object(s["b"])({reducedMotion:t=>t.reducedMotion,browser:t=>t.browser}),animation(){return!this.reducedMotion&&"chrome"===this.browser},icon(){if(!this.animation)return`wi wi-owm-${this.daytime}-${this.id}`;try{return n("3ce0")(`./${H[this.id]}_${this.daytime}.svg`)}catch{return console.log("no icon for id "+this.id),n("5947")(`./sun_${this.daytime}.svg`)}}}},J=R,Y=(n("6678"),Object(M["a"])(J,U,V,!1,null,"3e9ae174",null)),G=Y.exports,K=n("a925");i["a"].use(K["a"]);let Q=["en","ru"],Z=Q.find(t=>t===localStorage.getItem("language"))||Q[0];document.documentElement.lang!==Z&&(document.documentElement.lang=Z);const X={en:{weekday:{weekday:"long"},date:{day:"numeric",month:"long"}},ru:{weekday:{weekday:"long"},date:{day:"numeric",month:"long"}}},tt=new K["a"]({locale:Z,fallbackLocale:Q[0],dateTimeFormats:X,silentFallbackWarn:!0});var et=tt,nt=n("3ad5"),it=n.n(nt);const ot=it()(),at=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(document.documentElement.classList.add(ot),at||"chrome"!==ot){let t=document.createElement("link");t.rel="stylesheet",t.href="weather-icons/weather-icons.css",document.head.appendChild(t)}let st=null;try{let{latitude:t,longitude:e}=JSON.parse(localStorage.getItem("coords"))||{};t&&e&&(st={latitude:t,longitude:e})}catch(Zt){console.warn("Error reading localStorage:",Zt)}let rt=["metric","imperial"].find(t=>t===localStorage.getItem("units"))||"metric";var lt={browser:ot,reducedMotion:at,coords:st,language:et.locale,units:rt,forecast:null,last_update:null};var ct={setLanguage:(t,e)=>{t.language=e,et.locale=t.language,document.documentElement.lang=t.language,localStorage.setItem("language",t.language)},setCoords:(t,e)=>{t.coords=e,document.title=t.coords.name,localStorage.setItem("coords",JSON.stringify({latitude:t.coords.latitude,longitude:t.coords.longitude}))},setUnits:(t,e)=>{t.units=e,localStorage.setItem("units",t.units)},setForecast:(t,e)=>{t.forecast=e}};i["a"].use(s["a"]);var ut=new s["a"].Store({state:lt,mutations:ct}),dt={temp:t=>({metric:t=>Math.round(t-273.15),imperial:t=>Math.round(9*(t-273.15)/5+32)}[ut.state.units](t)),speed:t=>({metric:t=>Math.round(t),imperial:t=>Math.round(2.237*t)}[ut.state.units](t)),date:t=>1e3*(t+ut.state.forecast.timezone_offset)};let ht=window.matchMedia("(prefers-color-scheme: dark)").matches?"#FFF":"#000",gt=(t,e)=>{let n=document.createElement("canvas");n.width=128,n.height=128;let i=n.getContext("2d");i.textBaseline="middle",i.textAlign="center",i.font=e,i.clearRect(0,0,n.width,n.height),i.fillStyle=ht,i.fillText(t,n.width/2,n.height/2,n.width);let o=n.toDataURL("image/png"),a=document.querySelector('link[rel*="icon"]');a.type="image/x-icon",a.href=o};var ft=gt,pt={name:"Weather",components:{Icon:G},computed:{...Object(s["b"])({units:t=>t.units,current:t=>t.forecast.current,today:t=>(t.forecast.daily||[])[0]}),daytime(){let t=Date.now();return t>1e3*this.current.sunrise&&t<1e3*this.current.sunset?"day":"night"},icon(){let t=Date.now(),e=t>1e3*this.current.sunrise&&t<1e3*this.current.sunset?"day":"night";return{id:this.current.weather[0].id,daytime:e,description:this.current.weather[0].description}},temp(){let t=dt.temp(this.current.temp);return ft(t+"°","bold 128px jura"),{current:t,feels:dt.temp(this.current.feels_like),min:dt.temp(this.today.temp.min),max:dt.temp(this.today.temp.max)}},info(){return{humidity:{value:this.current.humidity,units:"%",icon:n("f5e0"),title:this.$t("humidity")},wind:{value:dt.speed(this.current.wind_speed),units:this.$t("wind.units."+this.units),icon:n("27e4"),style:{transform:`rotate(${45*Math.round(this.current.wind_deg%360/45)}deg)`},title:this.$t("wind.title")},pressure:{value:Math.round(this.current.pressure/1.33322368),units:this.$t("pressure.units"),icon:n("823b"),title:this.$t("pressure.title")},cloudiness:{value:this.current.clouds,units:"%",icon:n("9853"),title:this.$t("cloudiness")}}}}},mt=pt,_t=(n("3cc1"),n("4cff")),vt=Object(M["a"])(mt,A,q,!1,null,"76e92c82",null);"function"===typeof _t["default"]&&Object(_t["default"])(vt);var yt=vt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"forecast"},[n("h3",[t._v(t._s(t.$d(t.date,"weekday")))]),n("h4",[t._v(t._s(t.$d(t.date,"date")))]),n("ul",{staticClass:"daytimes"},t._l(t.daytimes,(function(e,i){return n("li",{key:i},[t._v(" "+t._s(t.$t(e))+": ")])})),0)])},bt=[],xt={name:"Forecast",props:{date:{type:Number,required:!0}},data:()=>({daytimes:["morning","day","evening","night"]})},Ot=xt,$t=(n("9184"),n("b5a0")),kt=Object(M["a"])(Ot,wt,bt,!1,null,"0a7b034c",null);"function"===typeof $t["default"]&&Object($t["default"])(kt);var Ct=kt.exports,zt=n("2222"),Mt=n.n(zt),St=n("8bd6"),jt=n.n(St);let Pt=0,Et=7,Tt=Pt*Et,Ft=100;class Wt{constructor({canvas:t,font:e,bgColor:n,fillColor:i}){Mt.a.setup(t),Pt=Math.min(520,window.innerWidth),Mt.a.view.viewSize.width=Tt,Mt.a.view.viewSize.height=Ft,window.addEventListener("resize",()=>this.setSize()),this.font=e,this.bgColor=n,this.fillColor=i}setSize(){Pt=Math.min(520,window.innerWidth),this.update(this.data)}update(t){this.data=t;let e=this.convert(this.data);Tt=e[e.length-1].x,Mt.a.view.viewSize.width=Tt,this.plot&&this.plot.remove(),this.labels&&this.labels.forEach(t=>t.remove()),this.plot=new Mt.a.Path({segments:[[0,Ft],...e.map(({x:t,y:e})=>[t,e]),[Tt,Ft]],fillColor:this.fillColor}),this.plot.smooth({from:2}),this.labels=[];for(let n=0;n<e.length;n++){let t=new Mt.a.PointText({content:e[n].content,fillColor:this.font.color,fontFamily:this.font.family,fontSize:this.font.size,fontWeight:"bold"});t.pivot=t.bounds.bottomLeft;let i=0;n%4===0&&(i=12),(n+3)%4===0&&(t.fontSize=28,i=-2),t.position=new Mt.a.Point(e[n].x+i,e[n].y),this.labels.push(t)}}convert(t){let e=[Ft/6,Ft-2*this.font.size],n=t.flat(),i=Math.min(...n),o=Math.max(...n),a=0,s=t.reduce((t,n,s)=>(a=Pt/n.length,[...t,...n.map((t,n)=>({x:s*Pt+n*a,y:Ft-jt()(t,i,o,e[0],e[1]),content:t+"°"}))]),[]);for(let r=0;r<4;r++)s.push({x:s[s.length-1].x+a,y:Ft-jt()(h.range(i,o),i,o,e[0],e[1]),content:"🤔"});return s.push({...s[s.length-1],x:s[s.length-1].x+a}),s}}var Lt=Wt;var It={name:"Widget",components:{Weather:yt,Forecast:Ct},data:()=>({progress:0}),mounted(){this.init();let t=this.$refs["scroll-area"];t.addEventListener("scroll",e=>{this.progress=t.scrollLeft/(t.scrollWidth-t.clientWidth)})},methods:{init(){let t="jura",e=getComputedStyle(document.documentElement);this.preload(t).then(()=>{this.chart=new Lt({canvas:this.$refs["canvas"],font:{family:t,size:16,color:e.getPropertyValue("--color-text")},bgColor:e.getPropertyValue("--color-bg"),fillColor:e.getPropertyValue("--color-chart")}),this.chart.update(this.values)})},preload:t=>new Promise(e=>{if(!("fonts"in document))return e();document.fonts.load("1em "+t).then(e)})},computed:{...Object(s["b"])({days:t=>t.forecast.daily.map(t=>({date:dt.date(t.dt),temp:["morn","day","eve","night"].map(e=>dt.temp(t.temp[e]))}))}),values(){return this.days.map(t=>t.temp)},lastDate(){return this.days[this.days.length-1].date+864e5}},watch:{values(t){this.chart&&(this.chart.update(t),this.$nextTick(()=>{this.$refs["scroll-area"].scrollTo({left:0,behavior:"smooth"})}))}}},Dt=It,Nt=(n("736e"),Object(M["a"])(Dt,D,N,!1,null,"3867ca12",null)),At=Nt.exports,qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"ui-switch",class:{active:t.innerValue},attrs:{title:t.title},on:{click:t.toggle}},[i("span",[t._v(t._s(t.labels[0]))]),i("span",[t._v(t._s(t.labels[1]))]),i("audio",{ref:"audio",attrs:{src:n("c94c"),preload:"auto",hidden:""}})])},Ut=[],Vt={name:"uiSwitch",props:{value:{type:Boolean,default:!1},labels:{type:Array,default:()=>[]},title:{type:String}},data(){return{innerValue:this.value}},methods:{toggle(){this.innerValue=!this.innerValue,this.$refs["audio"].currentTime=0,this.$refs["audio"].play()}},watch:{value(t){this.innerValue=t},innerValue(t){this.$emit("input",t)}}},Bt=Vt,Ht=(n("41f7"),Object(M["a"])(Bt,qt,Ut,!1,null,"cb56bbaa",null)),Rt=Ht.exports,Jt={name:"App",components:{Background:j,Search:I,Widget:At,uiSwitch:Rt},methods:{async getForecast(){try{let t=await fetch(l.forecast(this.coords,this.language,this.units)),e=await t.json();this.$store.commit("setForecast",e)}catch(Zt){console.log(Zt)}},switchUnits(){this.$store.commit("setUnits","metric"===this.units?"imperial":"metric")},switchLanguage(){this.$store.commit("setLanguage","en"===this.language?"ru":"en"),this.$refs["search"].init().then(this.getForecast)}},computed:{...Object(s["b"])({language:t=>t.language,coords:t=>t.coords,units:t=>t.units,forecast:t=>t.forecast})},watch:{coords:{immediate:!0,handler(t){t&&this.getForecast(t)}}}},Yt=Jt,Gt=(n("5c0b"),n("1a8b")),Kt=Object(M["a"])(Yt,o,a,!1,null,null,null);"function"===typeof Gt["default"]&&Object(Gt["default"])(Kt);var Qt=Kt.exports;i["a"].config.productionTip=!1,new i["a"]({store:ut,i18n:et,render:function(t){return t(Qt)}}).$mount("#app")},5725:function(t,e,n){t.exports=n.p+"img/cloud_snow_night.0e811a86.svg"},5947:function(t,e,n){var i={"./sun_day.svg":"54af","./sun_night.svg":"5ca2"};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=a,t.exports=o,o.id="5947"},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),o=n.n(i);o.a},"5ca2":function(t,e,n){t.exports=n.p+"img/sun_night.5ce13094.svg"},"655a":function(t,e,n){t.exports=n.p+"img/cloud_fog_alt_night.c4dd0bbf.svg"},6678:function(t,e,n){"use strict";var i=n("7ff6"),o=n.n(i);o.a},"66d8":function(t,e,n){t.exports=n.p+"img/tornado_day.b1e3cd0b.svg"},7276:function(t,e,n){t.exports=n.p+"img/cloud_drizzle_day.29c92232.svg"},"72a8":function(t,e,n){},"736e":function(t,e,n){"use strict";var i=n("c959"),o=n.n(i);o.a},7561:function(t,e,n){},7770:function(t,e,n){t.exports=n.p+"img/cloud_lightning_day.47fbb71d.svg"},"7fdf":function(t,e,n){"use strict";var i=n("f230"),o=n.n(i);e["default"]=o.a},"7ff6":function(t,e,n){},"823b":function(t,e,n){t.exports=n.p+"img/thermometer.f498dc85.svg"},"878c":function(t,e,n){"use strict";var i=n("de1b"),o=n.n(i);o.a},"8bd6":function(t,e){let n=(t,e,n,i,o)=>(t-e)*(o-i)/(n-e)+i;t.exports=n},9184:function(t,e,n){"use strict";var i=n("7561"),o=n.n(i);o.a},"967b":function(t,e,n){t.exports=n.p+"img/cloud_day.3c2fbad8.svg"},9853:function(t,e,n){t.exports=n.p+"img/cloud.1228a313.svg"},"9a4f":function(t,e,n){t.exports=n.p+"img/cloud_fog_alt_day.fdb32528.svg"},"9c0c":function(t,e,n){},a4a1:function(t,e,n){t.exports=n.p+"img/cloud_fog_night.aac68235.svg"},a4fa:function(t,e,n){},b2e0:function(t,e,n){t.exports=n.p+"img/cloud_night.c8b0bd7c.svg"},b5a0:function(t,e,n){"use strict";var i=n("f858"),o=n.n(i);e["default"]=o.a},b649:function(t,e,n){t.exports=n.p+"img/cloud_lightning_night.009cf303.svg"},c94c:function(t,e,n){t.exports=n.p+"media/click.ceec2fc0.mp3"},c959:function(t,e,n){},d1ba:function(t,e,n){t.exports=n.p+"img/cloud_hail_night.6b2a7671.svg"},d4f7:function(t,e,n){t.exports=n.p+"img/cloud_snow_day.93bfbcd5.svg"},de1b:function(t,e,n){},ec8b:function(t,e){t.exports={open_weather_api:"2c3411e04634c1650d366b2b58e053bc",google_places_api:"AIzaSyAfPiD9Aa3AQ5a4oMDahOTTqPyZ8tW2BlY"}},ef70:function(t,e,n){t.exports=n.p+"img/cloud_rain_alt_day.6aff9330.svg"},f230:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"ru":{"location":"Ваше расположение"},"en":{"location":"Your location"}}'),delete t.options._Ctor}},f5e0:function(t,e,n){t.exports=n.p+"img/raindrop.41658d0d.svg"},f858:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"morning":"morning","day":"day","evening":"evening","night":"night"},"ru":{"morning":"утром","day":"днем","evening":"вечером","night":"ночью"}}'),delete t.options._Ctor}},ffe9:function(t,e,n){t.exports=n.p+"img/cloud_snow_alt_day.93af63a7.svg"}});