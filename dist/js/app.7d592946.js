(function(t){function e(e){for(var n,a,r=e[0],l=e[1],c=e[2],d=0,h=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==o[l]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},o={app:0},s=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/vue-forecast/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},1:function(t,e){},"125f":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"ru":{"language":"Предпочитаемый язык","units":"Единицы измерения температуры"},"en":{"language":"Preferred language","units":"Temperature units"}}'),delete t.options._Ctor}},"1a8b":function(t,e,i){"use strict";var n=i("125f"),o=i.n(n);e["default"]=o.a},"1be1":function(t,e,i){t.exports=i.p+"img/pin.3c2d0c05.svg"},2:function(t,e){},2654:function(t,e,i){t.exports=i.p+"img/cloud_rain_night.40f6fa08.svg"},"27e4":function(t,e,i){t.exports=i.p+"img/arrow.d6611044.svg"},"2bc8":function(t,e,i){t.exports=i.p+"img/cloud_rain_alt_night.d718e5f6.svg"},3003:function(t,e,i){},3289:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"now":"Temperature now","feels-like":"feels like","humidity":"Humidity","wind":{"title":"Wind direction and speed","units":{"metric":"m/s","imperial":"mph"}},"pressure":{"title":"Pressure","units":"mmHg"},"cloudiness":"Cloudiness"},"ru":{"now":"Температура сейчас","feels-like":"ощущается как","humidity":"Влажность","wind":{"title":"Направление и скорость ветра","units":{"metric":"м/с","imperial":"mph"}},"pressure":{"title":"Давление","units":"мм. рт. ст."},"cloudiness":"Облачность"}}'),delete t.options._Ctor}},"39cf":function(t,e,i){t.exports=function(){return new Worker(i.p+"decb7ce64dab5e56ff0e.worker.js")}},"3ad5":function(t,e){let i=()=>{let t=window.navigator.userAgent.toLowerCase(),e=t.indexOf("msie"),i=t.indexOf("trident"),n=t.indexOf("edge"),o=t.indexOf("firefox"),s=t.indexOf("chrome"),a=t.indexOf("safari");document.getElementsByTagName("html")[0];return e>0||i>0||n>0?"ie":o>0?"firefox":s>0?"chrome":a>0?"safari":void 0};t.exports=i},"3ce0":function(t,e,i){var n={"./cloud_day.svg":"967b","./cloud_drizzle_day.svg":"7276","./cloud_drizzle_night.svg":"526a","./cloud_fog_alt_day.svg":"9a4f","./cloud_fog_alt_night.svg":"655a","./cloud_fog_day.svg":"48d7","./cloud_fog_night.svg":"a4a1","./cloud_hail_day.svg":"3e67","./cloud_hail_night.svg":"d1ba","./cloud_lightning_day.svg":"7770","./cloud_lightning_night.svg":"b649","./cloud_night.svg":"b2e0","./cloud_rain_alt_day.svg":"ef70","./cloud_rain_alt_night.svg":"2bc8","./cloud_rain_day.svg":"4c9b","./cloud_rain_night.svg":"2654","./cloud_snow_alt_day.svg":"ffe9","./cloud_snow_alt_night.svg":"4b05","./cloud_snow_day.svg":"d4f7","./cloud_snow_night.svg":"5725","./sun_day.svg":"54af","./sun_night.svg":"5ca2","./tornado_day.svg":"66d8","./tornado_night.svg":"48a3"};function o(t){var e=s(t);return i(e)}function s(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=s,t.exports=o,o.id="3ce0"},"3e67":function(t,e,i){t.exports=i.p+"img/cloud_hail_day.d39dce22.svg"},4709:function(t,e,i){"use strict";var n=i("87f2"),o=i.n(n);o.a},"48a3":function(t,e,i){t.exports=i.p+"img/tornado_night.b1e3cd0b.svg"},"48d7":function(t,e,i){t.exports=i.p+"img/cloud_fog_day.0912a816.svg"},"4b05":function(t,e,i){t.exports=i.p+"img/cloud_snow_alt_night.29a1adca.svg"},"4b53":function(t,e,i){},"4c9b":function(t,e,i){t.exports=i.p+"img/cloud_rain_day.5463cc77.svg"},"4cff":function(t,e,i){"use strict";var n=i("3289"),o=i.n(n);e["default"]=o.a},"526a":function(t,e,i){t.exports=i.p+"img/cloud_drizzle_night.9a2900f7.svg"},"54af":function(t,e,i){t.exports=i.p+"img/sun_day.0403bef5.svg"},"56d7":function(t,e,i){"use strict";i.r(e);var n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{attrs:{id:"app"}},[i("background"),i("div",{staticClass:"center"},[i("ui-switch",{staticClass:"units",attrs:{value:t.units.index,labels:t.units.labels,title:t.$t("units")},nativeOn:{click:function(e){return t.units.switch(e)}}}),i("search"),i("transition-group",{staticClass:"widget-wrap",attrs:{name:"fade",tag:"div"}},[t.forecast?i("widget",{key:"widget"}):t._e()],1)],1),i("ui-switch",{staticClass:"language",attrs:{value:t.language.index,labels:t.language.labels,title:t.$t("language")},nativeOn:{click:function(e){return t.language.switch(e)}}})],1)},s=[],a=i("2f62"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("canvas",{attrs:{id:"background"}})},l=[];let c={from:t=>t[~~(Math.random()*t.length)],range:(t=0,e=1)=>Math.random()*(e-t)+t};var u=c;let d=(t,e,i,n)=>Math.hypot(Math.abs(i-t),Math.abs(n-e));var h=d;const g=2*Math.PI;let p=0,f=0;class m{constructor({id:t,x:e,y:i,r:n,v:o,fill:s="#000"}){this.id=t,this.x=e,this.y=i,this.r=n,this.v=o,this.fill=s,this.lines={},this.bounds={top:0,right:0,bottom:0,left:0},this.updateBounds()}checkCollision(t,e){(this.bounds.left<=0&&this.v.x<=0||this.bounds.right>=t&&this.v.x>=0)&&(this.v.x*=-1),(this.bounds.top<=0&&this.v.y<=0||this.bounds.bottom>=e&&this.v.y>=0)&&(this.v.y*=-1)}updateBounds(){this.bounds.top=this.y-this.r,this.bounds.right=this.x+this.r,this.bounds.bottom=this.y+this.r,this.bounds.left=this.x-this.r}link(t,e){for(p=0;p<t.length;p++)t[p].id!==this.id&&(t[p].lines[this.id]||(f=h(this.x,this.y,t[p].x,t[p].y),f<=e&&f>=this.r+t[p].r?this.lines[t[p].id]={0:{x:this.x,y:this.y},1:{x:t[p].x,y:t[p].y},alpha:(e-f)/(e/2),width:Math.min(e/f,Math.min(this.r,t[p].r))}:delete this.lines[t[p].id]))}update(t,e,i,n,o){this.checkCollision(e,i),this.x+=this.v.x||0,this.y+=this.v.y||0,this.updateBounds(),this.link(n,o),t.beginPath(),t.fillStyle=this.fill,t.arc(this.x,this.y,this.r,0,g),t.fill()}}var _=m;const v=Math.PI;let y=0,b=0,w=[],x=({W:t,H:e,dpi:i})=>{w=[];let n=16,o=2;for(b=t/3,y=0;y<n;y++){let n=u.range(.5,o)*i,s=v/12,a=u.from([u.range(s,v/2-s),u.range(v/2+s,v-s),u.range(v+s,1.5*v-s),u.range(1.5*v+s,2*v-s)]);w.push(new _({id:y,x:u.range(0,t),y:u.range(0,e),r:u.range(6,10)*i,v:{x:n*Math.cos(a),y:n*Math.sin(a)}}))}},O=null,k=(t,{W:e,H:i})=>{for(t.fillStyle="#F0F0F0",t.fillRect(0,0,e,i),y=0;y<w.length;y++)for(O in w[y].update(t,e,i,w,b),w[y].lines)t.beginPath(),t.moveTo(w[y].lines[O][0].x,w[y].lines[O][0].y),t.lineTo(w[y].lines[O][1].x,w[y].lines[O][1].y),t.strokeStyle=`rgba(0, 0, 0, ${w[y].lines[O].alpha})`,t.lineWidth=w[y].lines[O].width,t.stroke()};var C=i("39cf"),$=i.n(C);class z{constructor(t){this.canvas=t,this.dpi=window.devicePixelRatio,this.init();let e=null;window.onresize=()=>{clearTimeout(e),e=setTimeout(()=>this.init(),150)}}init(){let t=window.innerWidth*this.dpi,e=window.innerHeight*this.dpi,i={W:t,H:e,dpi:this.dpi};if(this.worker)return this.worker.postMessage({options:i});if("transferControlToOffscreen"in this.canvas){this.worker=new $.a;let t=this.canvas.transferControlToOffscreen();this.worker.postMessage({canvas:t,options:i},[t])}else{this.canvas.width=t,this.canvas.height=e,cancelAnimationFrame(this.radId);let n=this.canvas.getContext("2d",{alpha:!1});x(i),this.update(n,i)}}update(...t){this.radId=requestAnimationFrame(()=>this.update(...t)),k(...t)}}var j=z,M={name:"Background",mounted(){this.reducedMotion||(this.sketch=new j(this.$el))},computed:{...Object(a["b"])({reducedMotion:t=>t.reducedMotion})}},S=M,P=(i("e496"),i("2877")),E=Object(P["a"])(S,r,l,!1,null,"5aa76087",null),T=E.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{attrs:{id:"search"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"input",attrs:{type:"text"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),n("button",{ref:"button",attrs:{disabled:t.loading,title:t.$t("location")},on:{click:t.locate}},[n("img",{attrs:{src:i("1be1"),role:"presentation"}})])])},I=[],N=i("ec8b"),W={forecast:(t,e,i)=>"https://api.openweathermap.org/data/2.5/onecall?lang="+e+"&exclude=minutely,hourly"+`&lat=${t.latitude}&lon=${t.longitude}&appid=`+N["open_weather_api"],autocomplete:t=>"https://maps.googleapis.com/maps/api/js?&libraries=places&types=(cities)&language="+t+"&key="+N["google_places_api"]},L={name:"Search",data(){return{query:"",loading:!1}},async mounted(){await this.init(),this.coords?this.$store.dispatch("getForecast"):this.locate()},methods:{init(){return new Promise(t=>{let e=document.getElementById("google-maps-api");e&&(document.body.removeChild(e),delete google.maps);let i=document.createElement("script");i.id="google-maps-api",i.onload=()=>{this.autocomplete=new google.maps.places.Autocomplete(this.$refs["input"],{types:["(cities)"]}),this.geocoder=new google.maps.Geocoder,google.maps.event.addListener(this.autocomplete,"place_changed",this.search),t(),this.coords&&this.getCity()},i.src=W.autocomplete(this.language),document.body.appendChild(i)})},async locate(t,e){this.loading=!0;try{let{coords:t}=await new Promise((t,e)=>{navigator.geolocation.getCurrentPosition(t,e)});this.$store.commit("setCoords",{latitude:t.latitude,longitude:t.longitude}),await this.getCity()}catch(i){this.$refs["button"].classList.remove("error"),setTimeout(()=>this.$refs["button"].classList.add("error"),100)}this.loading=!1},getCity(){return new Promise((t,e)=>{let i={location:new google.maps.LatLng(this.coords.latitude,this.coords.longitude)};this.geocoder.geocode(i,(i,n)=>{if("OK"===!n||!i)return e();let o=i.find(t=>t.types.includes("locality"));if(!o)return e();this.query=o.formatted_address,this.$store.commit("setCity",o.formatted_address),t()})})},search(){let t=this.autocomplete.getPlace()||{};if(!t.geometry)return;let e=t.geometry.location.lat(),i=t.geometry.location.lng();this.$store.commit("setCoords",{latitude:e,longitude:i}),this.$store.commit("setCity",t.formatted_address)}},computed:{...Object(a["b"])({coords:t=>t.coords,language:t=>t.language,units:t=>t.units})},watch:{coords(t){this.$store.dispatch("getForecast")},async language(){await this.init(),this.$store.dispatch("getForecast")}}},V=L,A=(i("4709"),i("7fdf")),q=Object(P["a"])(V,F,I,!1,null,"6b3a2bfa",null);"function"===typeof A["default"]&&Object(A["default"])(q);var B=q.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"widget"}},[i("weather"),i("div",{ref:"scroll-area",staticClass:"scroll-area"},[i("ul",t._l(t.days,(function(t,e){return i("forecast",{key:e,attrs:{date:t.date,weather_id:t.weather_id}})})),1),i("canvas",{ref:"canvas"})])],1)},U=[],H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{visible:t.today},attrs:{id:"weather"}},[i("div",{staticClass:"status"},[i("transition",{attrs:{name:"fade"}},[i("icon",{staticClass:"icon",attrs:{id:t.icon.id,daytime:t.icon.daytime}})],1),i("h2",[t._v(t._s(t.icon.description))])],1),i("div",{staticClass:"temp"},[i("number",{attrs:{value:t.temp.current},scopedSlots:t._u([{key:"default",fn:function(e){return[i("h1",{attrs:{title:t.$t("now")}},[t._v(t._s(e.value)+"°")])]}}])}),i("span",{directives:[{name:"visible",rawName:"v-visible",value:t.temp.current!==t.temp.feels,expression:"temp.current !== temp.feels"}]},[t._v(" "+t._s(t.$t("feels-like"))+" "),i("number",{attrs:{value:t.temp.feels,tag:"span"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("strong",[t._v(t._s(e.value)+"°")])]}}])})],1),i("p",{directives:[{name:"visible",rawName:"v-visible",value:t.temp.min!==t.temp.max,expression:"temp.min !== temp.max"}]},[t._v(" "+t._s(t.temp.min+".."+t.temp.max+"°")+" ")])],1),i("ul",t._l(t.info,(function(e,n){return i("li",{key:n,attrs:{title:e.title}},[i("img",{style:e.style,attrs:{src:e.icon,alt:""}}),i("number",{attrs:{value:e.value},scopedSlots:t._u([{key:"default",fn:function(n){return[i("span",{attrs:{"data-units":e.units}},[t._v(t._s(n.value))])]}}],null,!0)})],1)})),0)])},J=[],R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"icon"},[i("transition",{attrs:{name:"slide"}},[t.animation?i("img",{key:t.icon,attrs:{src:t.icon,alt:""}}):i("i",{class:t.icon,attrs:{"aria-hidden":""}})])],1)},Z=[];const Y={200:"cloud_lightning",201:"cloud_lightning",202:"cloud_lightning",210:"cloud_lightning",211:"cloud_lightning",212:"cloud_lightning",221:"cloud_lightning",230:"cloud_lightning",231:"cloud_lightning",232:"cloud_lightning",300:"cloud_drizzle",301:"cloud_drizzle",302:"cloud_drizzle",310:"cloud_drizzle",311:"cloud_drizzle",312:"cloud_drizzle",313:"cloud_drizzle",314:"cloud_drizzle",321:"cloud_drizzle",500:"cloud_rain",501:"cloud_rain",502:"cloud_rain",503:"cloud_rain",504:"cloud_rain",511:"cloud_hail",520:"cloud_rain_alt",521:"cloud_rain_alt",522:"cloud_rain_alt",531:"cloud_rain_alt",600:"cloud_snow",601:"cloud_snow_alt",602:"cloud_snow_alt",611:"cloud_hail",612:"cloud_hail",615:"cloud_hail",616:"cloud_hail",620:"cloud_snow",621:"cloud_snow",622:"cloud_snow_alt",701:"cloud_fog",711:"cloud_fog_alt",721:"cloud_fog",731:"tornado",741:"cloud_fog",751:"cloud_fog_alt",761:"cloud_fog_alt",762:"cloud_fog_alt",771:"cloud_fog_alt",781:"tornado",800:"sun",801:"cloud",802:"cloud",803:"cloud",804:"cloud"};var G=Y,Q={name:"Icon",props:{id:{type:Number},daytime:{type:String,default:"day"}},computed:{...Object(a["b"])({animation:t=>"chrome"===t.browser&&!t.reducedMotion}),icon(){if(!this.animation)return`wi wi-owm-${this.daytime}-${this.id}`;try{return i("3ce0")(`./${G[this.id]}_${this.daytime}.svg`)}catch{return console.log("no icon for id "+this.id),i("5947")(`./sun_${this.daytime}.svg`)}}}},K=Q,X=(i("ee01"),Object(P["a"])(K,R,Z,!1,null,"0a65f267",null)),tt=X.exports,et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.tag,{tag:"component",staticClass:"number"},[t._t("default",null,{value:t.innerValue})],2)},it=[],nt=i("de48");Object(nt["autoPlay"])(!0);var ot={props:{value:{type:Number},tag:{type:String,default:"div"}},data(){return{innerValue:this.value}},watch:{value(t,e){new nt["Tween"]({value:e}).to({value:t},500).on("update",({value:t})=>this.innerValue=~~t).on("complete",()=>this.innerValue=t).start()}}},st=ot,at=Object(P["a"])(st,et,it,!1,null,null,null),rt=at.exports,lt=i("a925");let ct={options:["metric","imperial"],labels:["C°","F°"],current:"",init(){let t=localStorage.getItem("units");if(this.options.includes(t))return this.current=t;this.current=this.options[0]},get index(){return this.options.indexOf(this.current)},switch(){this.current=this.options[(this.index+1)%2],xt.commit("setUnits",this.current),localStorage.setItem("units",this.current)}};ct.init();let ut={options:["en","ru"],labels:["EN","RU"],current:"",init(){let t=localStorage.getItem("language");if(this.options.includes(t))return this.current=t;let e=navigator.language.slice(0,2);if(this.options.includes(e))return this.current=e;this.current=this.options[0]},get index(){return this.options.indexOf(this.current)},switch(){this.current=this.options[(this.index+1)%2],xt.commit("setLanguage",this.current),gt.locale=this.current,document.documentElement.lang=this.current,localStorage.setItem("language",this.current)}};ut.init(),document.documentElement.lang!==ut.current&&(document.documentElement.lang=ut.current),n["a"].use(lt["a"]);const dt={en:{weekday:{weekday:"long"},date:{day:"numeric",month:"long"}},ru:{weekday:{weekday:"long"},date:{day:"numeric",month:"long"}}},ht=new lt["a"]({locale:ut.current,fallbackLocale:ut.options[0],dateTimeFormats:dt,silentFallbackWarn:!0});var gt=ht,pt=i("3ad5"),ft=i.n(pt);const mt=ft()(),_t=window.matchMedia("(prefers-reduced-motion: reduce)").matches;if(document.documentElement.classList.add(mt),_t||"chrome"!==mt){let t=document.createElement("link");t.rel="stylesheet",t.href="weather-icons/weather-icons.css",document.head.appendChild(t)}let vt=null;try{let{latitude:t,longitude:e}=JSON.parse(localStorage.getItem("coords"))||{};t&&e&&(vt={latitude:t,longitude:e})}catch(he){console.warn("Error reading localStorage:",he)}var yt={browser:mt,reducedMotion:_t,coords:vt,language:gt.locale,units:ct.current,forecast:null},bt={getForecast:async({state:t,commit:e})=>{try{let i=await fetch(W.forecast(t.coords,t.language,t.units)),n=await i.json();e("setForecast",n)}catch(he){console.log(he)}}},wt={setLanguage:(t,e)=>{t.language=e},setUnits:(t,e)=>{t.units=e},setCoords:(t,e)=>{t.coords=e,localStorage.setItem("coords",JSON.stringify({latitude:t.coords.latitude,longitude:t.coords.longitude}))},setForecast:(t,e)=>{t.forecast=e},setCity:(t,e)=>{e&&(t.city=e,document.title=t.city,localStorage.setItem("city",t.city))}};n["a"].use(a["a"]);var xt=new a["a"].Store({state:yt,actions:bt,mutations:wt}),Ot={temp:t=>({metric:t=>Math.round(t-273.15),imperial:t=>Math.round(9*(t-273.15)/5+32)}[xt.state.units](t)),speed:t=>({metric:t=>Math.round(t),imperial:t=>Math.round(2.237*t)}[xt.state.units](t)),date:t=>1e3*(t+xt.state.forecast.timezone_offset)};let kt=t=>new Promise(e=>{if(!("fonts"in document))return e();document.fonts.load(t).then(e)});var Ct=kt;let $t=window.matchMedia("(prefers-color-scheme: dark)").matches?"#FFF":"#000",zt=async(t,e)=>{await Ct(e);let i=document.createElement("canvas");i.width=128,i.height=128;let n=i.getContext("2d");n.textBaseline="middle",n.textAlign="center",n.font=e,n.clearRect(0,0,i.width,i.height),n.fillStyle=$t,n.fillText(t,i.width/2,i.height/2,i.width);let o=i.toDataURL("image/png"),s=document.querySelector('link[rel*="icon"]');s.type="image/x-icon",s.href=o};var jt=zt,Mt={name:"Weather",components:{Icon:tt,Number:rt},computed:{...Object(a["b"])({units:t=>t.units,current:t=>t.forecast.current,today:t=>(t.forecast.daily||[])[0]}),icon(){let t=Date.now(),e=t>1e3*this.current.sunrise&&t<1e3*this.current.sunset?"day":"night";return{id:this.current.weather[0].id,daytime:e,description:this.current.weather[0].description}},temp(){let t=Ot.temp(this.current.temp);return jt(t+"°","bold 128px jura"),{current:t,feels:Ot.temp(this.current.feels_like),min:Ot.temp(this.today.temp.min),max:Ot.temp(this.today.temp.max)}},info(){return{humidity:{value:this.current.humidity,units:"%",icon:i("f5e0"),title:this.$t("humidity")},wind:{value:Ot.speed(this.current.wind_speed),units:this.$t("wind.units."+this.units),icon:i("27e4"),style:{transform:`rotate(${45*Math.round(this.current.wind_deg%360/45)}deg)`},title:this.$t("wind.title")},pressure:{value:Math.round(this.current.pressure/1.33322368),units:this.$t("pressure.units"),icon:i("823b"),title:this.$t("pressure.title")},cloudiness:{value:this.current.clouds,units:"%",icon:i("9853"),title:this.$t("cloudiness")}}}}},St=Mt,Pt=(i("bb59"),i("4cff")),Et=Object(P["a"])(St,H,J,!1,null,"2c5fe56e",null);"function"===typeof Pt["default"]&&Object(Pt["default"])(Et);var Tt=Et.exports,Ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"forecast"},[i("h3",[i("span",[t._v(t._s(t.$d(t.date,"weekday")))]),t.weather_id?i("icon",{staticClass:"icon",attrs:{id:t.weather_id}}):t._e()],1),i("h4",[t._v(t._s(t.$d(t.date,"date")))]),i("ul",{staticClass:"daytimes"},t._l(t.daytimes,(function(e,n){return i("li",{key:n},[t._v(" "+t._s(t.$t(e))+": ")])})),0)])},It=[],Nt={name:"Forecast",components:{Icon:tt},props:{date:{type:Number,required:!0},weather_id:{type:Number}},data:()=>({daytimes:["morning","day","evening","night"]})},Wt=Nt,Lt=(i("d0f3"),i("b5a0")),Vt=Object(P["a"])(Wt,Ft,It,!1,null,"5f4ed36a",null);"function"===typeof Lt["default"]&&Object(Lt["default"])(Vt);var At=Vt.exports,qt=i("2222"),Bt=i.n(qt),Dt=i("8bd6"),Ut=i.n(Dt);Object(nt["autoPlay"])(!0);let Ht=0,Jt=8,Rt=Ht*Jt,Zt=100;class Yt{constructor({canvas:t,font:e,bgColor:i,fillColor:n}){Bt.a.setup(t),Ht=Math.min(520,window.innerWidth),Bt.a.view.viewSize.width=Rt,Bt.a.view.viewSize.height=Zt,window.addEventListener("resize",()=>this.setSize()),this.font=e,this.bgColor=i,this.fillColor=n,this.init()}setSize(){Ht=Math.min(520,window.innerWidth)}init(){Rt=Ht*Jt,Bt.a.view.viewSize.width=Rt,this.plot&&this.plot.remove(),this.labels&&this.labels.forEach(t=>t.remove());let t=new Array(8).fill(new Array(4).fill(-99)),e=this.convert(t);this.plot=new Bt.a.Path({segments:[[0,Zt],...e.map(({x:t,y:e})=>[t,e]),[Rt,Zt]],fillColor:this.fillColor}),this.plot.smooth(),this.labels=[];for(let i=0;i<e.length;i++){let t=new Bt.a.PointText({content:e[i].content,fillColor:this.font.color,fontFamily:this.font.family,fontSize:this.font.size,fontWeight:"bold"});t.pivot=t.bounds.bottomLeft;let n=0;i%4===0&&(n=12),t.position=new Bt.a.Point(e[i].x+n,e[i].y),this.labels.push(t)}this.prev=e}update(t){let e=this.convert(t);this.animate(e,this.prev)}convert(t){let e=[Zt/6,Zt-2*this.font.size],i=t.flat(),n=Math.min(...i),o=Math.max(...i),s=0,a=t.reduce((t,i,a)=>(s=Ht/i.length,[...t,...i.map((t,i)=>({x:a*Ht+i*s,y:Zt-Ut()(t,n,o,e[0],e[1]),content:t}))]),[]);return a.push({x:a[a.length-1].x+s,y:a[a.length-1].y,content:0}),a}animate(t){this.tween&&this.tween.isPlaying()&&this.tween.stop();let e=0;this.tween=new nt["Tween"]({points:this.prev}).to({points:t},2500).on("update",({points:t})=>{for(e=0;e<t.length;e++)this.plot.segments[e+1].point.x=t[e].x,this.plot.segments[e+1].point.y=t[e].y,this.labels[e].position.y=t[e].y,this.labels[e].content=Math.round(t[e].content)+"°";this.plot.smooth({from:2})}).on("complete",()=>this.prev=t).start()}}var Gt=Yt,Qt={name:"Widget",components:{Weather:Tt,Forecast:At},mounted(){let t="jura",e=getComputedStyle(document.documentElement);Ct("1em "+t).then(()=>{this.chart=new Gt({canvas:this.$refs["canvas"],font:{family:t,size:16,size_accent:28,color:e.getPropertyValue("--color-text")},bgColor:e.getPropertyValue("--color-bg"),fillColor:e.getPropertyValue("--color-chart")}),this.chart.update(this.values)})},computed:{...Object(a["b"])({forecast:t=>t.forecast,days:t=>t.forecast.daily.map(t=>({date:Ot.date(t.dt),weather_id:t.weather[0].id,temp:["morn","day","eve","night"].map(e=>Ot.temp(t.temp[e]))}))}),values(){return this.days.map(t=>t.temp)}},watch:{values(t){this.chart&&(this.chart.update(t),this.$nextTick(()=>{this.$refs["scroll-area"].scrollTo({left:0,behavior:"smooth"})}))}}},Kt=Qt,Xt=(i("ed6c"),Object(P["a"])(Kt,D,U,!1,null,"b92281b6",null)),te=Xt.exports,ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"ui-switch",class:{active:!t.innerValue},attrs:{title:t.title},on:{click:t.toggle}},[n("span",[t._v(t._s(t.labels[0]))]),n("span",[t._v(t._s(t.labels[1]))]),n("audio",{ref:"audio",attrs:{src:i("c94c"),preload:"auto",hidden:""}})])},ie=[],ne={name:"uiSwitch",props:{value:{type:Number,default:0},labels:{type:Array,default:()=>[]},title:{type:String}},data(){return{innerValue:this.value}},methods:{toggle(){this.innerValue=!this.innerValue,this.$refs["audio"].currentTime=0,this.$refs["audio"].play()}},watch:{value(t){this.innerValue=t},innerValue(t){this.$emit("input",t)}}},oe=ne,se=(i("bd4c"),Object(P["a"])(oe,ee,ie,!1,null,"1cff2c16",null)),ae=se.exports,re={name:"App",components:{Background:T,Search:B,Widget:te,uiSwitch:ae},data:()=>({units:ct,language:ut}),computed:{...Object(a["b"])({forecast:t=>t.forecast})}},le=re,ce=(i("5c0b"),i("1a8b")),ue=Object(P["a"])(le,o,s,!1,null,null,null);"function"===typeof ce["default"]&&Object(ce["default"])(ue);var de=ue.exports;n["a"].config.productionTip=!1,n["a"].directive("visible",(t,e)=>{t.style.visibility=e.value?"visible":"hidden"}),new n["a"]({i18n:gt,store:xt,render:function(t){return t(de)}}).$mount("#app")},5725:function(t,e,i){t.exports=i.p+"img/cloud_snow_night.0e811a86.svg"},5947:function(t,e,i){var n={"./sun_day.svg":"54af","./sun_night.svg":"5ca2"};function o(t){var e=s(t);return i(e)}function s(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=s,t.exports=o,o.id="5947"},"5c0b":function(t,e,i){"use strict";var n=i("9c0c"),o=i.n(n);o.a},"5ca2":function(t,e,i){t.exports=i.p+"img/sun_night.5ce13094.svg"},"655a":function(t,e,i){t.exports=i.p+"img/cloud_fog_alt_night.c4dd0bbf.svg"},"66d8":function(t,e,i){t.exports=i.p+"img/tornado_day.b1e3cd0b.svg"},7276:function(t,e,i){t.exports=i.p+"img/cloud_drizzle_day.29c92232.svg"},7710:function(t,e,i){},7770:function(t,e,i){t.exports=i.p+"img/cloud_lightning_day.47fbb71d.svg"},"7fdf":function(t,e,i){"use strict";var n=i("f230"),o=i.n(n);e["default"]=o.a},"80ca":function(t,e,i){},"823b":function(t,e,i){t.exports=i.p+"img/thermometer.f498dc85.svg"},"87f2":function(t,e,i){},"8bd6":function(t,e){let i=(t,e,i,n,o)=>(t-e)*(o-n)/(i-e||1)+n;t.exports=i},"967b":function(t,e,i){t.exports=i.p+"img/cloud_day.b3991426.svg"},9853:function(t,e,i){t.exports=i.p+"img/cloud.1228a313.svg"},"989c":function(t,e,i){},"9a4f":function(t,e,i){t.exports=i.p+"img/cloud_fog_alt_day.fdb32528.svg"},"9c0c":function(t,e,i){},a4a1:function(t,e,i){t.exports=i.p+"img/cloud_fog_night.aac68235.svg"},b2e0:function(t,e,i){t.exports=i.p+"img/cloud_night.89d85c37.svg"},b5a0:function(t,e,i){"use strict";var n=i("f858"),o=i.n(n);e["default"]=o.a},b649:function(t,e,i){t.exports=i.p+"img/cloud_lightning_night.009cf303.svg"},b876:function(t,e,i){},bb59:function(t,e,i){"use strict";var n=i("3003"),o=i.n(n);o.a},bd4c:function(t,e,i){"use strict";var n=i("7710"),o=i.n(n);o.a},c94c:function(t,e,i){t.exports=i.p+"media/click.ceec2fc0.mp3"},d0f3:function(t,e,i){"use strict";var n=i("80ca"),o=i.n(n);o.a},d1ba:function(t,e,i){t.exports=i.p+"img/cloud_hail_night.6b2a7671.svg"},d4f7:function(t,e,i){t.exports=i.p+"img/cloud_snow_day.93bfbcd5.svg"},e496:function(t,e,i){"use strict";var n=i("4b53"),o=i.n(n);o.a},ec8b:function(t,e){t.exports={open_weather_api:"2c3411e04634c1650d366b2b58e053bc",google_places_api:"AIzaSyAfPiD9Aa3AQ5a4oMDahOTTqPyZ8tW2BlY",mapbox_api:"pk.eyJ1IjoibmV4dGd0cmdvZCIsImEiOiJja2JxZjEwMzkwYWNsMzZwODBpcHR6MWNqIn0.I_E6_0OtjTggEpvguSU4FQ"}},ed6c:function(t,e,i){"use strict";var n=i("989c"),o=i.n(n);o.a},ee01:function(t,e,i){"use strict";var n=i("b876"),o=i.n(n);o.a},ef70:function(t,e,i){t.exports=i.p+"img/cloud_rain_alt_day.6aff9330.svg"},f230:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"ru":{"location":"Ваше расположение"},"en":{"location":"Your location"}}'),delete t.options._Ctor}},f5e0:function(t,e,i){t.exports=i.p+"img/raindrop.41658d0d.svg"},f858:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"morning":"morning","day":"day","evening":"evening","night":"night"},"ru":{"morning":"утро","day":"день","evening":"вечер","night":"ночь"}}'),delete t.options._Ctor}},ffe9:function(t,e,i){t.exports=i.p+"img/cloud_snow_alt_day.93af63a7.svg"}});